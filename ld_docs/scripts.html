

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>scripts namespace &mdash; Ultra Fast Lane Detection  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="configs namespace" href="configs.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Ultra Fast Lane Detection
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="howto/howtos.html">HOWTOs</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Code</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">scripts namespace</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-scripts.create_seg_labels_and_index_files">scripts.create_seg_labels_and_index_files module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-scripts.create_smaller_train_set">scripts.create_smaller_train_set module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-scripts.reduce_h_samples">scripts.reduce_h_samples module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-scripts.show_labels_on_image">scripts.show_labels_on_image module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-scripts.split_dataset">scripts.split_dataset module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ultra Fast Lane Detection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>scripts namespace</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/scripts.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="scripts-namespace">
<h1>scripts namespace<a class="headerlink" href="#scripts-namespace" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-scripts.create_seg_labels_and_index_files">
<span id="scripts-create-seg-labels-and-index-files-module"></span><h2>scripts.create_seg_labels_and_index_files module<a class="headerlink" href="#module-scripts.create_seg_labels_and_index_files" title="Permalink to this headline">¶</a></h2>
<p>generate segmentation label files (png) and the required index files for training and testing</p>
<p>usage: create_seg_labels_and_index_files.py –root &lt;path to dataset&gt; –train_files &lt;comma seperated list of json files containing train data&gt; –test_files &lt;list containing test data&gt;</p>
<dl class="py function">
<dt id="scripts.create_seg_labels_and_index_files.calc_k">
<code class="sig-prename descclassname">scripts.create_seg_labels_and_index_files.</code><code class="sig-name descname">calc_k</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/create_seg_labels_and_index_files.html#calc_k"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.create_seg_labels_and_index_files.calc_k" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the direction of lanes</p>
</dd></dl>

<dl class="py function">
<dt id="scripts.create_seg_labels_and_index_files.draw">
<code class="sig-prename descclassname">scripts.create_seg_labels_and_index_files.</code><code class="sig-name descname">draw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">im</span></em>, <em class="sig-param"><span class="n">line</span></em>, <em class="sig-param"><span class="n">idx</span></em>, <em class="sig-param"><span class="n">show</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/create_seg_labels_and_index_files.html#draw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.create_seg_labels_and_index_files.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the segmentation label according to json annotation</p>
</dd></dl>

<dl class="py function">
<dt id="scripts.create_seg_labels_and_index_files.generate_segmentation_and_train_list">
<code class="sig-prename descclassname">scripts.create_seg_labels_and_index_files.</code><code class="sig-name descname">generate_segmentation_and_train_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span></em>, <em class="sig-param"><span class="n">line_txt</span></em>, <em class="sig-param"><span class="n">names</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/create_seg_labels_and_index_files.html#generate_segmentation_and_train_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.create_seg_labels_and_index_files.generate_segmentation_and_train_list" title="Permalink to this definition">¶</a></dt>
<dd><p>The lane annotations of the Tusimple dataset is not strictly in order, so we need to find out the correct lane order for segmentation.
We use the same definition as CULane, in which the four lanes from left to right are represented as 1,2,3,4 in segentation label respectively.</p>
</dd></dl>

<dl class="py function">
<dt id="scripts.create_seg_labels_and_index_files.get_args">
<code class="sig-prename descclassname">scripts.create_seg_labels_and_index_files.</code><code class="sig-name descname">get_args</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/create_seg_labels_and_index_files.html#get_args"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.create_seg_labels_and_index_files.get_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="scripts.create_seg_labels_and_index_files.get_tusimple_list">
<code class="sig-prename descclassname">scripts.create_seg_labels_and_index_files.</code><code class="sig-name descname">get_tusimple_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">root</span></em>, <em class="sig-param"><span class="n">label_list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/create_seg_labels_and_index_files.html#get_tusimple_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.create_seg_labels_and_index_files.get_tusimple_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all the files’ names from the json annotation</p>
</dd></dl>

</div>
<div class="section" id="module-scripts.create_smaller_train_set">
<span id="scripts-create-smaller-train-set-module"></span><h2>scripts.create_smaller_train_set module<a class="headerlink" href="#module-scripts.create_smaller_train_set" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="scripts.create_smaller_train_set.create_smaller_train_set">
<code class="sig-prename descclassname">scripts.create_smaller_train_set.</code><code class="sig-name descname">create_smaller_train_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_in</span></em>, <em class="sig-param"><span class="n">keep</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">out_filename</span><span class="o">=</span><span class="default_value">'small_train_labels.json'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/create_smaller_train_set.html#create_smaller_train_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.create_smaller_train_set.create_smaller_train_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Training with large datasets will take a huge amount of time. Especially if the dataset was recorded at a high
framerate this script could be used to increase training speed by creating a smaller train_labels file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_in</strong> – absolute path to a train_labels.json file</p></li>
<li><p><strong>keep</strong> – Percentage of frames to keep (20% -&gt; 20)</p></li>
<li><p><strong>out_filename</strong> – Filename of the new labels file. It will be created in the same directory where file_in is located</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</div>
<div class="section" id="module-scripts.reduce_h_samples">
<span id="scripts-reduce-h-samples-module"></span><h2>scripts.reduce_h_samples module<a class="headerlink" href="#module-scripts.reduce_h_samples" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="scripts.reduce_h_samples.reduce_h_samples">
<code class="sig-prename descclassname">scripts.reduce_h_samples.</code><code class="sig-name descname">reduce_h_samples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_in</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">file_out</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">keep_h_samples</span><span class="p">:</span> <span class="n">List<span class="p">[</span>int<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/reduce_h_samples.html#reduce_h_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.reduce_h_samples.reduce_h_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduces the amount of h_samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_in</strong> – Source labels file</p></li>
<li><p><strong>file_out</strong> – target labels file</p></li>
<li><p><strong>keep_h_samples</strong> – array of h_samples to keep (eg [10, 20, 30])</p></li>
</ul>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

</div>
<div class="section" id="module-scripts.show_labels_on_image">
<span id="scripts-show-labels-on-image-module"></span><h2>scripts.show_labels_on_image module<a class="headerlink" href="#module-scripts.show_labels_on_image" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="scripts.show_labels_on_image.get_lane_color">
<code class="sig-prename descclassname">scripts.show_labels_on_image.</code><code class="sig-name descname">get_lane_color</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">i</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/show_labels_on_image.html#get_lane_color"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.show_labels_on_image.get_lane_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="scripts.show_labels_on_image.input_images">
<code class="sig-prename descclassname">scripts.show_labels_on_image.</code><code class="sig-name descname">input_images</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_file</span></em>, <em class="sig-param"><span class="n">data_root</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/show_labels_on_image.html#input_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.show_labels_on_image.input_images" title="Permalink to this definition">¶</a></dt>
<dd><p>This method provides an easy way to visually validate train data by drawing labels on the frames and displaying them</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_file</strong> – labels file (filepath relative to data_root)</p></li>
<li><p><strong>data_root</strong> – path to dataset</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-scripts.split_dataset">
<span id="scripts-split-dataset-module"></span><h2>scripts.split_dataset module<a class="headerlink" href="#module-scripts.split_dataset" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="scripts.split_dataset.split_dataset">
<code class="sig-prename descclassname">scripts.split_dataset.</code><code class="sig-name descname">split_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_in</span></em>, <em class="sig-param"><span class="n">test_split</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em>, <em class="sig-param"><span class="n">validate_split</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">10</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/split_dataset.html#split_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scripts.split_dataset.split_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>split one labels file into train, test, validate labels files. Creates the following files: train_labels.json, test.json, validate.json in the same folder as the source file is located</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_in</strong> – path to labels file</p></li>
<li><p><strong>test_split</strong> – test percentage</p></li>
<li><p><strong>validate_split</strong> – validate percentage</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="configs.html" class="btn btn-neutral float-left" title="configs namespace" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, cfzd; 2020 Markus Heck

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>